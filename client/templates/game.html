<template name="game">
<div class= "container-fluid">
	<div class = "row" id = "gameState Label">
		<div class= "col-xs-5 col-xs-offset-4">
		{{#if equals game.state 'playerBmessaging'}}		
			<div class="well well-sm well-text" align="center" style="{{game.messageForm}}">
				<b>Player B: </b>Send a message to Player A 
			</div>
		{{else}} {{#if equals game.state 'playerAdeciding'}}
			<div class="well well-sm well-text" align="center" style="{{game.Adecide}}">
				<b>Player A: </b>What do you want to do?
			</div>
		{{else}} {{#if equals game.state 'playerBdeciding'}}
			<div class="well well-sm well-text" align="center" style="{{game.Bdecide}}">
				<b>Player B: </b>What do you want to do?
			</div>
		{{else}} {{#if equals game.state 'finalChoices'}}
			<div class="well well-sm well-text" align="center" style="visibility:hidden">
				<b>Invisible spacing text </b>
			</div>
		{{else}} {{#if equals game.state 'beliefs'}}
			<div class="well well-sm well-text" align="center" style="visibility:hidden">
				<b>Invisible spacing text </b>
			</div>
		{{/if}}
		{{/if}}
		{{/if}}
		{{/if}}
		{{/if}}
		</div>
	</div>

	<div class = "row" id = "message-gameTree">
		{{#if equals game.state 'playerBmessaging'}}
			{{> messageForm}}
		{{else}}
			{{> messageDisplay}}
		{{/if}}
		{{> gameTree}}
	</div>
</div>	
</template>


<!-- template for the message input form -->
<template name="messageForm">
	<div class="col-xs-4" style= "{{game.messageForm}}">
		<p style = "font-size:20px"><b>Insert your message below:</b></p>
      	<div class= "bubble">
       		<p style="font-size:16px" id="message" class = 'message-form' contenteditable="true">Type a message here and press Enter to send...</p>
   		</div>
    </div>
</template>

<!-- template for message display -->
<template name="messageDisplay">
	<div class= "col-xs-4" style = "{{game.messageDisplay}}">
		<p style = "font-size:20px"><b>{{message.whoSaid}}</b> </p>
		<p style = "font-size: 16px" class = "bubble" id="message">{{message.content}}</p>
	</div>
</template>


<!-- template for the game tree -->
<template name = "gameTree">
	<div class = "svg-container col-xs-8">
		<svg preserveAspectRatio= "xMinYMin meet" viewBox = "0 0 450 345" class= "svg-content-responsive">
			<text x = "205" y="25" text-anchor="middle" font-weight= "bold" font-size= "30">A</text>
			<g class="playerAleft" stroke= "{{branch.colorAL}}" stroke-width= "{{branch.widthAL}}" fill = "{{branch.colorAL}}">
				<path d= "M205 35 L105 135"></path>
				<text x="105" y="165" font-size="28" text-anchor="middle" stroke-width="1">A gets: $1</text>
				<text x="105" y="195" font-size="28" text-anchor="middle" stroke-width="1">B gets: $3</text>
				<text x="115" y="85" font-size="22" text-anchor="middle" stroke-width="1">Left</text>
			</g>
			<g class ="playerAright" stroke= "{{branch.colorAR}}" stroke-width= "{{branch.widthAR}}" fill = "{{branch.colorAR}}">
				<path d= "M205 35 L305 135"></path>
				<text x="305" y="165" text-anchor="middle" font-weight= "bold" stroke-width= "1" font-size= "30">B</text>
				<text x="300" y="85" font-size="22" text-anchor="middle" stroke-width="1">Right</text>
			</g>
			<g class="playerBleft" stroke= "{{branch.colorBL}}" stroke-width= "{{branch.widthBL}}" fill = "{{branch.colorBL}}">
				<path d= "M305 175 L205 275"></path>
				<text x="205" y="305" font-size="28" text-anchor="middle" stroke-width="1">A gets: $0</text>
				<text x="205" y="335" font-size="28" text-anchor="middle" stroke-width="1">B gets: $1</text>
				<text x="210" y="235" font-size="22" text-anchor="middle" stroke-width="1">Left</text>
			</g>
			<g class="playerBright" stroke= "{{branch.colorBR}}" stroke-width= "{{branch.widthBR}}" fill = "{{branch.colorBR}}">
				<path d= "M305 175 L405 275"></path>
				<text x="405" y="305" font-size="28" text-anchor="middle" stroke-width="1">A gets: $2</text>
				<text x="405" y="335" font-size="28" text-anchor="middle" stroke-width="1">B gets: $2</text>
				<text x="410" y="235" font-size="22" text-anchor="middle" stroke-width="1">Right</text>
			</g>
		</svg>
	</div>
</template>
